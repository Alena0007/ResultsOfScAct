-- Таблица Подразделение
CREATE TABLE "Подразделение" (
    "Код подразделения" SERIAL PRIMARY KEY,
    "Наименование" VARCHAR(100) NOT NULL
);

-- Таблица Сотрудники
CREATE TABLE "Сотрудники" (
    "Код сотрудника" SERIAL PRIMARY KEY,
    "ФИО" VARCHAR(150) NOT NULL,
    "Телефон" VARCHAR(20),
    "Код подразделения" INT,
    FOREIGN KEY ("Код подразделения") REFERENCES "Подразделение"("Код подразделения")
);

-- Таблица Награды
CREATE TABLE "Награды" (
    "Код награды" SERIAL PRIMARY KEY,
    "Наименование" VARCHAR(100) NOT NULL
);

-- Таблица Категории мероприятий
CREATE TABLE "Категории мероприятий" (
    "Код категории" SERIAL PRIMARY KEY,
    "Наименование" VARCHAR(100) NOT NULL
);

-- Таблица Тип мероприятия
CREATE TABLE "Тип мероприятия" (
    "Код типа" SERIAL PRIMARY KEY,
    "Наименование" VARCHAR(100) NOT NULL
);

-- Таблица Должности
CREATE TABLE "Должности" (
    "Код должности" SERIAL PRIMARY KEY,
    "Наименование" VARCHAR(100) NOT NULL
);

-- Таблица Специалисты
CREATE TABLE "Специалисты" (
    "Код специалиста" SERIAL PRIMARY KEY,
    "ФИО" VARCHAR(150) NOT NULL,
    "Должность" INT,
    FOREIGN KEY ("Должность") REFERENCES "Должности"("Код должности")
);

-- Таблица Мероприятия
CREATE TABLE "Мероприятия" (
    "Код мероприятия" SERIAL PRIMARY KEY,
    "Дата проведения" DATE NOT NULL,
    "Наименование" VARCHAR(150) NOT NULL,
    "Категория мероприятия" INT,
    "Тип мероприятия" INT,
    "Место проведения" VARCHAR(200),
    FOREIGN KEY ("Категория мероприятия") REFERENCES "Категории мероприятий"("Код категории"),
    FOREIGN KEY ("Тип мероприятия") REFERENCES "Тип мероприятия"("Код типа")
);

-- Таблица Ведомость регистрации участников
CREATE TABLE "Ведомость регистрации участников" (
    "Номер ведомости" SERIAL PRIMARY KEY,
    "Дата регистрации" DATE NOT NULL,
    "Сотрудник" INT,
    "Мероприятие" INT,
    "Специалист" INT,
    FOREIGN KEY ("Сотрудник") REFERENCES "Сотрудники"("Код сотрудника"),
    FOREIGN KEY ("Мероприятие") REFERENCES "Мероприятия"("Код мероприятия"),
    FOREIGN KEY ("Специалист") REFERENCES "Специалисты"("Код специалиста")
);

-- Таблица Протокол результатов мероприятия
CREATE TABLE "Протокол результатов мероприятия" (
    "Номер протокола" SERIAL PRIMARY KEY,
    "Дата протокола" DATE NOT NULL,
    "Сотрудник" INT,
    "Результат" VARCHAR(200),
    "Мероприятие" INT,
    "Награда" INT,
    FOREIGN KEY ("Сотрудник") REFERENCES "Сотрудники"("Код сотрудника"),
    FOREIGN KEY ("Мероприятие") REFERENCES "Мероприятия"("Код мероприятия"),
    FOREIGN KEY ("Награда") REFERENCES "Награды"("Код награды")
);




-- Заполнение таблицы "Подразделение" (5 записей)
INSERT INTO "Подразделение" ("Код подразделения", "Наименование") VALUES
(1, 'ИТ-отдел'),
(2, 'Бухгалтерия'),
(3, 'Кафедра менеджмента'),
(4, 'Кафедра ИС'),
(5, 'Канцелярия');

-- Заполнение таблицы "Сотрудники" (5 записей)
INSERT INTO "Сотрудники" ("Код сотрудника", "ФИО", "Телефон", "Код подразделения") VALUES
(1, 'Иванов Иван Иванович', '+79991234567', 1),
(2, 'Петрова Анна Сергеевна', '+79992345678', 2),
(3, 'Сидоров Петр Алексеевич', '+79993456789', 3),
(4, 'Кузнецова Ольга Викторовна', '+79994567890', 4),
(5, 'Морозов Сергей Павлович', '+79995678901', 5);

-- Заполнение таблицы "Награды" (5 записей)
INSERT INTO "Награды" ("Код награды", "Наименование") VALUES
(1, 'Грамота'),
(2, 'Медаль за успехи'),
(3, 'Диплом 1 степени'),
(4, 'Премия'),
(5, 'Благодарственное письмо');

-- Заполнение таблицы "Категории мероприятий" (5 записей)
INSERT INTO "Категории мероприятий" ("Код категории", "Наименование") VALUES
(1, 'Конференция'),
(2, 'Семинар'),
(3, 'Соревнование'),
(4, 'Тренинг'),
(5, 'Выставка');

-- Заполнение таблицы "Тип мероприятия" (5 записей)
INSERT INTO "Тип мероприятия" ("Код типа", "Наименование") VALUES
(1, 'Очное'),
(2, 'Онлайн'),
(3, 'Гибридное'),
(4, 'Практическое'),
(5, 'Теоретическое');

-- Заполнение таблицы "Должности" (5 записей)
INSERT INTO "Должности" ("Код должности", "Наименование") VALUES
(1, 'Руководитель'),
(2, 'Старший специалист'),
(3, 'Специалист'),
(4, 'Секретарь'),
(5, 'Заместитель');

-- Заполнение таблицы "Специалисты" (5 записей)
INSERT INTO "Специалисты" ("Код специалиста", "ФИО", "Должность") VALUES
(1, 'Смирнов Алексей Викторович', 1),
(2, 'Васильева Мария Петровна', 2),
(3, 'Козлов Дмитрий Сергеевич', 3),
(4, 'Николаева Елена Ивановна', 4),
(5, 'Федоров Павел Андреевич', 5);

-- Заполнение таблицы "Мероприятия" (5 записей)
INSERT INTO "Мероприятия" ("Код мероприятия", "Дата проведения", "Наименование", "Категория мероприятия", "Тип мероприятия", "Место проведения") VALUES
(1, '2025-02-05', 'ИТ-конференция 2025', 1, 1, 'Офис 1'),
(2, '2025-02-10', 'Семинар по бухгалтерии', 2, 2, 'Онлайн'),
(3, '2025-02-15', 'Соревнование по продажам', 3, 3, 'Офис 2'),
(4, '2025-02-20', 'Тренинг по лидерству', 4, 4, 'Учебный центр'),
(5, '2025-02-25', 'Выставка продукции', 5, 5, 'Выставочный зал');

-- Заполнение таблицы "Ведомость регистрации участников" (10 записей)
INSERT INTO "Ведомость регистрации участников" ("Номер ведомости", "Дата регистрации", "Сотрудник", "Мероприятие", "Специалист") VALUES
(1, '2025-02-01', 1, 1, 1),
(2, '2025-02-02', 2, 2, 2),
(3, '2025-02-03', 3, 3, 3),
(4, '2025-02-04', 4, 4, 4),
(5, '2025-02-05', 5, 5, 5),
(6, '2025-02-06', 1, 2, 2),
(7, '2025-02-07', 2, 3, 3),
(8, '2025-02-08', 3, 4, 4),
(9, '2025-02-09', 4, 5, 5),
(10, '2025-02-10', 5, 1, 1);

-- Заполнение таблицы "Протокол результатов мероприятия" (10 записей)
INSERT INTO "Протокол результатов мероприятия" ("Номер протокола", "Дата протокола", "Сотрудник", "Результат", "Мероприятие", "Награда") VALUES
(1, '2025-02-06', 1, '1 место', 1, 3),
(2, '2025-02-11', 2, 'Участие', 2, 5),
(3, '2025-02-16', 3, '2 место', 3, 1),
(4, '2025-02-21', 4, 'Отличный результат', 4, 4),
(5, '2025-02-26', 5, '3 место', 5, 2),
(6, '2025-02-07', 1, 'Участие', 2, 5),
(7, '2025-02-12', 2, 'Хорошая работа', 3, 1),
(8, '2025-02-17', 3, 'Отличное выступление', 4, 4),
(9, '2025-02-22', 4, 'Участие', 5, 5),
(10, '2025-02-27', 5, 'Лучший доклад', 1, 3);